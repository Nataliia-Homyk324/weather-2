import{i as a}from"./assets/vendor-ad859c2f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();function d(r){const t=`https://api.openweathermap.org/data/2.5/weather?q=${r}&appid=117bcd5592950f9f701a11f5ab982de0&units=metric`;return fetch(t).then(o=>{if(!o.ok)throw new Error(o.status);return o.json()}).catch(o=>console.log(o))}function l(r){return parseInt(r)}function m({name:r,main:{feels_like:t,temp:o,humidity:c,pressure:e},sys:{country:n},weather:i}){return`<div class="weather-card"><div><h2>${r}, ${n}</h2><img src="http://openweathermap.org/img/w/${i[0].icon}.png" width="80px"><p>${i[0].description}</p></div><div><p>Temperature: ${l(o)}&#8451;</p><p>Feels like: ${l(t)}&#8451;</p><p>Humidity: ${c}%</p><p>Pressure: ${e}</p></div>
      <button class="save-button" type="button">Save</button>
      </div>
      `}const f=document.querySelector(".switcher-toggle");f.addEventListener("change",y);function y(r){r.target.checked?(document.body.classList.replace("light","dark"),localStorage.setItem("theme","dark")):(document.body.classList.replace("dark","light"),localStorage.setItem("theme","light"))}const v=localStorage.getItem("theme");v==="dark"&&(f.checked=!0,document.body.classList.replace("light","dark"));const p=document.querySelector(".date span");p.textContent=new Date().toLocaleString();setInterval(()=>p.textContent=new Date().toLocaleString(),1e3);const s=document.querySelector("#weatherDetails"),h=document.querySelector("#searchForm"),u=localStorage.getItem("city");h.addEventListener("submit",L);function L(r){r.preventDefault(),s.innerHTML="";const t=r.target.name.value.trim();if(!t)return a.warning({message:"Enter city"});d(t).then(o=>{if(!o)return a.error({message:"Enter correct city"});s.insertAdjacentHTML("beforeend",m(o));const c=document.querySelector(".save-button");h.reset(),c.addEventListener("click",e);function e(){localStorage.setItem("city",t),c.textContent="Delete",c.addEventListener("click",g)}})}u&&d(u).then(r=>{s.insertAdjacentHTML("beforeend",m(r));const t=document.querySelector(".save-button");t.textContent="Delete",t.addEventListener("click",g)});function g(){localStorage.removeItem("city"),s.innerHTML=""}
//# sourceMappingURL=commonHelpers.js.map
